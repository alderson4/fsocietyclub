<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>fsocietyclub | ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <div id="notification" class="notification-box" style="display: none;"></div>

  <header>
    <div class="auth-bar" id="authBar">
      <a href="signup.html" class="auth-button">Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…</a>
      <a href="login.html" class="auth-button">ÙˆØ±ÙˆØ¯</a>
    </div>

    <div class="user-dropdown" id="userDropdown" style="display: none;">
      <button onclick="toggleDropdown()">ğŸ‘¤ Ø­Ø³Ø§Ø¨ Ù…Ù†</button>
      <div id="dropdown-content" class="dropdown-content"></div>
    </div>

    <p class="welcome-text">Ø¨Ù‡ fsocietyclub Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯</p>

    <div class="logo-box">
      <img src="image_1762245500463.jpg" alt="fsocietyclub logo" class="site-logo">
    </div>
  </header>

  <div class="search-box">
    <div class="search-wrapper">
      <input type="text" id="searchInput" placeholder="Ø¬Ø³ØªØ¬Ùˆ Ø¯Ø± Ø¯ÙˆØ±Ù‡â€ŒÙ‡Ø§..." oninput="filterCards()">
    </div>
  </div>

  <div class="card-container">
    <div class="card card-click" data-keywords="Ú©Ø§Ù„ÛŒ Ù„ÛŒÙ†ÙˆÚ©Ø³ Ø§Ù…Ù†ÛŒØª ØªØ³Øª Ù†ÙÙˆØ°">
      <img src="copilot_image_1762281337449.jpeg" alt="Ú©Ø§Ù„ÛŒ" class="card-image">
      <p class="card-text">Ø¢Ù…ÙˆØ²Ø´ Ú©Ø§Ù„ÛŒ Ù„ÛŒÙ†ÙˆÚ©Ø³</p>
      <p class="card-date">ØªØ§Ø±ÛŒØ® Ø§Ù†ØªØ´Ø§Ø±: Û±Û´Û°Û´/Û°Û¸/Û±Û·</p>
      <div class="card-actions">
        <a href="kali.html" class="auth-button">Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¯ÙˆØ±Ù‡</a>
        <button onclick="addToFavorites('kali.html')">â¤ï¸ Ø§ÙØ²ÙˆØ¯Ù†</button>
      </div>
    </div>

    <div class="card card-click" data-keywords="Ø´Ø¨Ú©Ù‡ ip ÙˆØ§ÛŒØ±Ø´Ø§Ø±Ú© nmap">
      <img src="network-logo.jpg" alt="Ø´Ø¨Ú©Ù‡" class="card-image">
      <p class="card-text">Ø¢Ù…ÙˆØ²Ø´ Ø´Ø¨Ú©Ù‡</p>
      <p class="card-date">ØªØ§Ø±ÛŒØ® Ø§Ù†ØªØ´Ø§Ø±: Û±Û´Û°Û´/Û°Û¸/Û²Û±</p>
      <div class="card-actions">
        <a href="network.html" class="auth-button">Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¯ÙˆØ±Ù‡</a>
        <button onclick="addToFavorites('network.html')">â¤ï¸ Ø§ÙØ²ÙˆØ¯Ù†</button>
      </div>
    </div>
  </div>

  <footer>
    <p>Â© 2025 fsocietyclub | Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ ØªÙˆØ³Ø· Ø¢Ø±ÛŒÙ†</p>
  </footer>

  <script>
    function showNotification(message) {
      const box = document.getElementById("notification");
      if (!box) return;
      box.innerText = message;
      box.style.display = "block";
      box.style.opacity = "1";
      setTimeout(() => {
        box.style.opacity = "0";
        setTimeout(() => {
          box.style.display = "none";
        }, 400);
      }, 3000);
    }

    function loadUserInfo() {
      const user = JSON.parse(localStorage.getItem("fsociety_user"));
      const authBar = document.getElementById("authBar");
      const userDropdown = document.getElementById("userDropdown");
      const dropdownContent = document.getElementById("dropdown-content");

      if (user && user.username && user.email && user.password) {
        if (authBar) authBar.style.display = "none";
        if (userDropdown) userDropdown.style.display = "block";
        if (dropdownContent) {
          dropdownContent.innerHTML = `
            <p>Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ: ${user.username}</p>
            <p>Ø§ÛŒÙ…ÛŒÙ„: ${user.email}</p>
            <p>Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±: ${user.password}</p>
            <div class="favorites-button">
              <a href="favorites.html">Ø±ÙØªÙ† Ø¨Ù‡ Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§</a>
            </div>
            <div class="logout-button">
              <button onclick="logoutUser()">ğŸšª Ø®Ø±ÙˆØ¬ Ø§Ø² Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ</button>
            </div>
          `;
        }
      }
    }

    function toggleDropdown() {
      const dropdown = document.getElementById("dropdown-content");
      dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
    }

    function logoutUser() {
      localStorage.removeItem("fsociety_user");
      localStorage.removeItem("fsociety_favorites");
      window.location.href = "index.html";
    }

    function addToFavorites(link) {
      const user = JSON.parse(localStorage.getItem("fsociety_user"));
      if (!user || !user.username || !user.email || !user.password) {
        showNotification("âš ï¸ Ø¨Ø±Ø§ÛŒ Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ Ø§Ø¨ØªØ¯Ø§ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ù†ÛŒØ¯.");
        return;
      }

      const card = event.target.closest(".card");
      const title = card.querySelector(".card-text").innerText;
      const image = card.querySelector(".card-image").getAttribute("src");
      const date = card.querySelector(".card-date")?.innerText.split(": ")[1] || "Ù†Ø§Ù…Ø´Ø®Øµ";

      let favorites = JSON.parse(localStorage.getItem("fsociety_favorites")) || [];

      if (!favorites.some(f => f.link === link)) {
        favorites.push({ link, title, image, date });
        localStorage.setItem("fsociety_favorites", JSON.stringify(favorites));
        showNotification("âœ… Ø¢ÛŒØªÙ… Ø¨Ù‡ Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ Ø§ÙØ²ÙˆØ¯Ù‡ Ø´Ø¯!");
      } else {
        showNotification("âš ï¸ Ø§ÛŒÙ† Ø¢ÛŒØªÙ… Ù‚Ø¨Ù„Ø§Ù‹ Ø¯Ø± Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ Ø¨ÙˆØ¯Ù‡.");
      }
    }

    function filterCards() {
      const input = document.getElementById("searchInput").value.toLowerCase().trim();
      const cards = document.querySelectorAll(".card");

      cards.forEach(card => {
        const text = card.innerText.toLowerCase();
        const keywords = card.getAttribute("data-keywords")?.toLowerCase() || "";
        card.style.display = (text.includes(input) || keywords.includes(input)) ? "block" : "none";
      });
    }

    window.onload = function () {
      loadUserInfo();
    };
  </script>

</body>
      </html>
